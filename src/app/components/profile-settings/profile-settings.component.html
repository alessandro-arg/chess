<div class="relative h-full mx-auto max-w-5xl px-6 py-10">
  <header class="flex items-center justify-between">
    <div>
      <h1 class="text-2xl sm:text-3xl font-semibold text-white">
        Profile settings
      </h1>
      <p class="text-sm text-gray-400">Manage your avatar and username</p>
    </div>
  </header>

  <div class="mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
    <div class="lg:col-span-1">
      <div class="relative inline-block">
        <img
          [src]="
            photoURL ||
            'https://api.dicebear.com/7.x/thumbs/svg?seed=' +
              (displayName || 'Player')
          "
          class="h-32 w-32 sm:h-40 sm:w-40 rounded-full border-2 border-white/10 object-cover shadow"
          alt="Avatar"
        />
        <label
          class="absolute bottom-1 right-1 inline-flex items-center gap-2 rounded-full bg-white/10 hover:bg-white/20 text-white text-xs sm:text-sm px-3 py-1.5 cursor-pointer"
        >
          Change
          <input
            type="file"
            accept="image/*"
            (change)="onFileSelected($event)"
            class="sr-only"
          />
        </label>
      </div>
      <p class="mt-3 text-xs text-gray-400">PNG/JPG up to ~2MB.</p>
    </div>

    <div class="lg:col-span-2">
      <form [formGroup]="form" (ngSubmit)="save()" class="space-y-6" novalidate>
        <div>
          <label class="block text-sm font-medium text-gray-300" for="username"
            >Username</label
          >
          <input
            id="username"
            type="text"
            formControlName="displayName"
            class="mt-2 w-full rounded-2xl bg-gray-950/70 border border-gray-700/80 text-gray-100 placeholder-gray-500 px-4 py-3 text-base focus:outline-none focus:ring-2 focus:ring-indigo-500/60 focus:border-indigo-500"
          />
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-300">Email</label>
          <div class="mt-2 text-gray-300 text-base">
            {{ email || "â€”" }}
          </div>
        </div>

        <div class="flex justify-end">
          <button
            type="submit"
            class="inline-flex items-center rounded-xl bg-indigo-600 hover:bg-indigo-500 px-6 py-3 text-sm font-medium text-white disabled:opacity-50"
            [disabled]="form.invalid || isSaving"
          >
            Save changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
